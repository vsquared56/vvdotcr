steps:

- task: AzureFunctionApp@1
  displayName: 'Deploy Azure functions'
  inputs:
    azureSubscription: 'Azure Visual Studio Subscription'
    appType: 'functionAppLinux'
    appName: '$(functions_app_name)'
    package: '$(Build.ArtifactStagingDirectory)/functions_$(Build.BuildId).zip'
    runtimeStack: 'NODE|$(nodeVersion)'

- task: AzureStaticWebApp@0
  displayName: 'Deploy Azure Static Web App'
  inputs:
    verbose: true
    azure_static_web_apps_api_token: $(azure_deployment_token)
    skip_app_build: true
    skip_api_build: true
    app_location: 'packages/swa/public'
    api_location: 'packages/swa/api'